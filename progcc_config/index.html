<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/x-icon" href="images/favicon.ico">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <link rel="stylesheet" href="/css/progccConfig.css" type="text/css">
  <link rel="stylesheet" href="/css/progccColor.css" type="text/css">
  <link rel="stylesheet" href="/css/progccAnalog.css" type="text/css">
  <link rel="stylesheet" href="/css/progccRemap.css" type="text/css">
  <link rel="stylesheet" href="/css/sliderPicker.css" type="text/css">
  <link rel="stylesheet" href="/css/containers.css" type="text/css">

  <!-- Meta Tags required for
       Progressive Web App -->
  <meta name="apple-mobile-web-app-status-bar" content="#aa7700">
  <meta name="theme-color" content="black">

  <!-- Manifest File link -->
  <link rel="manifest" href="manifest.json">
</head>

<body>
  <div class="context">

    <ul class="circles">
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
    </ul>

    <h1>ProGCC Firmware<br>
      Configurator</h1>

    <div class="box">
      <div class="box-inner">
        <button type="button" id="installButton" onclick="installButton()" disabled="true">Install App</button>
        <div class="row">
          <button type="button" id="connectButton" onclick="connectButton()">Connect Device</button>
          <button type="button" id="disconnectButton" onclick="disconnectButton()" disabled>Disconnect</button>
        </div>

        <div class="message-box" id="ood" disabled="true">
          <h2>Your device is out of date!</h2>
          <a href="https://handheldlegend.github.io/gc_pocket.html" target="_blank">See our firmware page to update.</a>
        </div>

        <!-- SOCIALS -->
        <!-- --------------- -->
        <div class="collapsible">

          <input id="socials-qr" class="toggle" type="checkbox">

          <label for="socials-qr" id="socials-toggle" , class="lbl-toggle">Social Media</label>
          <div class="dropdown">
            <div class="collapsible-row-double">

              <div class="collapsible-column">
                <h2>Twitter</h2>
                <img src="/resources/qr/hhl.png">
              </div>

              <div class="collapsible-column">
                <h2>Discord</h2>
                <img src="/resources/qr/discord.png">
              </div>

            </div>

          </div>
        </div>
        <!-- --------------- -->

        <!-- PROCON COLOR SETTINGS -->
        <div class="collapsible">

          <input id="color-settings" class="toggle" type="checkbox">

          <label for="color-settings" id="color-settings-toggle" , class="lbl-toggle">Color Settings</label>
          <div class="dropdown">
            <div id="progccColorSvg">
              <svg class="controller-led" data-src="svg/controller.svg" data-cache="disabled" data-unique-ids="disabled"
                data-css-scoping="disabled" oniconload="color_page_init()"></svg>
            </div>

            <div id="progccColorPicker">
              <div id="colorPicker"></div>
              <input id="colorHexBox" disabled type="text" value="#FFFFFF"
                onchange="color_hexbox_changed(this.value)" />
              <div class="row">
                <button id="copyButton" class="small" onclick="color_copy()">Copy</button>
                <button id="pasteButton" class="small" onclick="color_paste()">Paste</button>
              </div>
            </div>

            <div class="full-width">
              <div class="line"></div>
              <button type="button" id="save_color_button" onclick="saveButton()">Save</button>
            </div>


          </div>
        </div>
      </div>

      <!-- SNAPBACK SETTINGS -->
      <!-- ---------------   -->
      <div class="collapsible">
        <input id="snapback-settings" class="toggle" type="checkbox">

        <label for="snapback-settings" id="snapback-settings-toggle" , class="lbl-toggle">Snapback Settings</label>
        <div class="dropdown">
          <div class="full-width">

            <p>LX</p>
            <div class="slider">
              <input type="range" min="0" max="7" value="0" id="lx_snapback"
                oninput="lx_snapbackText.innerText = this.value" onchange="snapback_set_value(0, this.value)">
              <p id="lx_snapbackText">0</p>
            </div>
            <div class="line"></div>

            <p>LY</p>
            <div class="slider">
              <input type="range" min="0" max="7" value="0" id="ly_snapback"
                oninput="ly_snapbackText.innerText = this.value" onchange="snapback_set_value(1, this.value)">
              <p id="ly_snapbackText">0</p>
            </div>
            <div class="line"></div>

            <p>RX</p>
            <div class="slider">
              <input type="range" min="0" max="7" value="0" id="rx_snapback"
                oninput="rx_snapbackText.innerText = this.value" onchange="snapback_set_value(2, this.value)">
              <p id="rx_snapbackText">0</p>
            </div>
            <div class="line"></div>

            <p>RY</p>
            <div class="slider">
              <input type="range" min="0" max="7" value="0" id="ry_snapback"
                oninput="ry_snapbackText.innerText = this.value" onchange="snapback_set_value(3, this.value)">
              <p id="ry_snapbackText">0</p>
            </div>
            <button type="button" id="save_snapback" onclick="saveButton()">Save</button>

          </div>
        </div>
      </div>

      <!-- ANALOG SETTINGS -->
      <!-- --------------- -->
      <div class="collapsible">

        <input id="analog_collapsible" class="toggle" type="checkbox">

        <label for="analog_collapsible" id="analog_collapsible_toggle" class="lbl-toggle">Analog Calibration</label>

        <div class="dropdown">

          <div class="content-inner">
            <div class="full-width">
              <p>
                To calibrate your sticks, ensure both sticks are fully centered, then press start. Slowly rotate both
                sticks fully 4-5 times. The controller LEDs will turn blue when enough data has been captured to
                facilitate proper calibration. Press 'Stop' to complete calibration. If you are satisfied with the
                results, press 'Save'.</p>
            </div>

            <div class="line"></div>

            <div class="collapsible-row-double">
              <div class="collapsible-column">
                <div class="circle">
                  <div class="inner-stick"></div>
                  <div class="analog-center"></div>
                  <div id="circle-analog-pointer-l" class="analog-position"></div>
                </div>
              </div>

              <div class="collapsible-column">
                <div class="circle">
                  <div class="inner-stick"></div>
                  <div class="analog-center"></div>
                  <div id="circle-analog-pointer-r" class="analog-position"></div>
                </div>
              </div>
              <div class="line"></div>
            </div>
            <div class="row">
              <button type="button" id="start_calibration_button" onclick="analog_start_calibration()">Start</button>
              <button type="button" id="stop_calibration_button" onclick="analog_stop_calibration()"
                disabled>Stop</button>
              <button type="button" id="save_calibration_button" onclick="saveButton()" disabled>Save</button>
            </div>
          </div>

        </div>
      </div>

      <!-- OCTAGON SETTINGS -->
      <!-- --------------- -->
      <div class="collapsible">

        <input id="octagon_collapsible" class="toggle" type="checkbox">

        <label for="octagon_collapsible" id="octagon_collapsible_toggle" class="lbl-toggle">Octagon Calibration</label>

        <div class="dropdown">

          <div class="content-inner">
            <div class="full-width">
              <p>To calibrate your controller for an octagon gate, move your analog stick to one of the octagon corners,
                then press the button below to update the angle. Press save when you are happy with the results.</p>

              <div class="line"></div>
            </div>

            <div class="collapsible-row-double">

              <div class="collapsible-column">
                <input id="octagon-angle-text-l" type="text" disabled />
                <div class="octagon">
                  <div class="inner-stick"></div>
                  <div class="analog-center"></div>
                  <div id="octo-analog-pointer-l" class="analog-position"></div>
                </div>
              </div>

              <div class="collapsible-column">
                <input id="octagon-angle-text-r" type="text" disabled />
                <div class="octagon">
                  <div class="inner-stick"></div>
                  <div class="analog-center"></div>
                  <div id="octo-analog-pointer-r" class="analog-position"></div>
                </div>
              </div>
            </div>

            <div class="line"></div>

            <div class="row">
              <button type="button" id="update_octagon_button" onclick="analog_update_octagon()">Update</button>
              <button type="button" id="save_octagon_button" onclick="saveButton()">Save</button>
            </div>
          </div>

        </div>
      </div>

      <!-- REMAPPING -->
      <!-- --------------- -->
      <div class="collapsible">

        <input id="remapping" class="toggle" type="checkbox">

        <label for="remapping" id="remapping-toggle" , class="lbl-toggle">Remapping</label>
        <div class="dropdown">
            <div class="full-width">
              <p>To remap a button, click one of the blue squares. Next, press the desired button on your ProGCC.</p>
              <p>The real button in green is then mapped to the button in blue.</p>
              <div class="line"></div>
            </div>
            <div class="remap-row">
              <!-- A -->
              <button type="button" class="button-map-init" id="bi_a" onclick="remap_init_new(MAPCODE_B_A)">A</button>
              <button type="button" class="button-map-view" id="bm_a">...</button>
            </div>

            <div class="remap-row">
              <!-- B -->
              <button type="button" class="button-map-init" id="bi_b" onclick="remap_init_new(MAPCODE_B_B)">B</button>
              <button type="button" class="button-map-view" id="bm_b">...</button>
            </div>

            <div class="remap-row">
              <!-- X -->
              <button type="button" class="button-map-init" id="bi_x" onclick="remap_init_new(MAPCODE_B_X)">X</button>
              <button type="button" class="button-map-view" id="bm_x">...</button>
            </div>

            <div class="remap-row">
              <!-- Y -->
              <button type="button" class="button-map-init" id="bi_y" onclick="remap_init_new(MAPCODE_B_Y)">Y</button>
              <button type="button" class="button-map-view" id="bm_y">...</button>
            </div>

            <div class="remap-row">
              <!-- Dpad Up -->
              <button type="button" class="button-map-init" id="bi_dup" onclick="remap_init_new(MAPCODE_DUP)">↑</button>
              <button type="button" class="button-map-view" id="bm_dup">...</button>
            </div>

            <div class="remap-row">
              <!-- Dpad Down -->
              <button type="button" class="button-map-init" id="bi_ddown" onclick="remap_init_new(MAPCODE_DDOWN)">↓</button>
              <button type="button" class="button-map-view" id="bm_ddown">...</button>
            </div>

            <div class="remap-row">
              <!-- Dpad Left -->
              <button type="button" class="button-map-init" id="bi_dleft" onclick="remap_init_new(MAPCODE_DLEFT)">←</button>
              <button type="button" class="button-map-view" id="bm_dleft">...</button>
            </div>

            <div class="remap-row">
              <!-- Dpad Right -->
              <button type="button" class="button-map-init" id="bi_dright" onclick="remap_init_new(MAPCODE_DRIGHT)">→</button>
              <button type="button" class="button-map-view" id="bm_dright">...</button>
            </div>

            <div class="remap-row">
              <!-- Plus -->
              <button type="button" class="button-map-init" id="bi_plus"
                onclick="remap_init_new(MAPCODE_B_PLUS)">+</button>
              <button type="button" class="button-map-view" id="bm_plus">...</button>
            </div>

            <div class="remap-row">
              <!-- Minus -->
              <button type="button" class="button-map-init" id="bi_minus"
                onclick="remap_init_new(MAPCODE_B_MINUS)">-</button>
              <button type="button" class="button-map-view" id="bm_minus">...</button>
            </div>

            <div class="remap-row">
              <!-- L -->
              <button type="button" class="button-map-init" id="bi_l" onclick="remap_init_new(MAPCODE_T_L)">L</button>
              <button type="button" class="button-map-view" id="bm_l">...</button>
            </div>

            <div class="remap-row">
              <!-- ZL -->
              <button type="button" class="button-map-init" id="bi_zl"
                onclick="remap_init_new(MAPCODE_T_ZL)">ZL</button>
              <button type="button" class="button-map-view" id="bm_zl">...</button>
            </div>

            <div class="remap-row">
              <!-- R -->
              <button type="button" class="button-map-init" id="bi_r" onclick="remap_init_new(MAPCODE_T_R)">R</button>
              <button type="button" class="button-map-view" id="bm_r">...</button>
            </div>

            <div class="remap-row">
              <!-- ZR -->
              <button type="button" class="button-map-init" id="bi_zr"
                onclick="remap_init_new(MAPCODE_T_ZR)">ZR</button>
              <button type="button" class="button-map-view" id="bm_zr">...</button>
            </div>

            <div class="remap-row">
              <!-- Stick L -->
              <button type="button" class="button-map-init" id="bi_stickl"
                onclick="remap_init_new(MAPCODE_B_STICKL)">SL</button>
              <button type="button" class="button-map-view" id="bm_stickl">...</button>
            </div>

            <div class="remap-row">
              <!-- Stick R -->
              <button type="button" class="button-map-init" id="bi_stickr"
                onclick="remap_init_new(MAPCODE_B_STICKR)">SR</button>
              <button type="button" class="button-map-view" id="bm_stickr">...</button>
            </div>

            <div class="full-width">
              <div class="line"></div>
              <div class="row">
                <button type="button" id="reset_remap_button" onclick="remap_set_default()">Reset</button>
                <button type="button" id="save_remap_button" onclick="saveButton()">Save</button>
              </div>
            </div>

        </div>

        



      </div>
    </div>
    <!-- --------------- -->



  </div>
  </div>
  </div>
  <div class="footer">
    <a href="https://handheldlegend.github.io/attributions.html" target="_blank">JS/CSS Attributions</a> | Site by Mitch
    Cairns | ©
    2023, Hand Held Legend
  </div>
  <script src="/js/progcc_config/progcc_remap.js"></script>
  <script src="/js/progcc_config/progcc_snapback.js"></script>
  <script src="/js/progcc_config/progcc_analog.js"></script>
  <script src="/js/progcc_config/progcc_input.js"></script>
  <script src="/js/progcc_config/progcc_config.js"></script>
  <script src="/js/progcc_config/progcc_color.js"></script>
  <script src="/js/progcc_config/svg-loader.min.js"></script>
  <script src="/js/progcc_config/iro.min.js"></script>

</body>

</html>