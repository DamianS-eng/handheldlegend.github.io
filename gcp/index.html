<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/x-icon" href="images/favicon.ico">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <script type="module" src="/js/esp32webtool/install-button.js"> </script>
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <link rel="stylesheet" href="css/gcp_config.css" type="text/css">
  <link rel="stylesheet" href="/css/sliderPicker.css" type="text/css">
  <link rel="stylesheet" href="/css/radioPicker.css" type="text/css">
  <link rel="stylesheet" href="/css/containers.css" type="text/css">

  <!-- Meta Tags required for
       Progressive Web App -->
  <meta name="apple-mobile-web-app-status-bar" content="#aa7700">
  <meta name="theme-color" content="black">

  <!-- Manifest File link -->
  <link rel="manifest" href="manifest.json">
</head>

<body>
  <div class="context">

    <ul class="circles">
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
    </ul>

    <h1>GC Pocket Update Tool</h1>

    <div class="box">
      <div class="box-inner">
        <!--<button type="button" id="installButton" onclick="installButton()" >{install}</button>-->
        <div class="row">
          <button type="button" id="connectButton" onclick="connectButton()">Connect</button>
          <button type="button" id="disconnectButton" onclick="disconnectButton()" disabled>Disconnect</button>
        </div>

        <!-- FW UPDATE MSG BOX -->
        <div class="message-box" id="firmware-update-box" disabled="true">

          <h2>{fwMsg1}</h2>
          {fwMsg2}

          <div class="row">
          <button type="button" id="fwButton" onclick="fwButton()">{bootloader}</button>
          </div>

          <div class="full-width">
            <div class="line"></div>
          </div>

          <div class="full-width" id="fwChangeLog">
          </div>

          <div class="full-width">
            <div class="line"></div>
          </div>
          {fwInstall}

          <div class="row">
          <a id="install_rp2040"
            href="https://github.com/HandHeldLegend/GC-Adapter-RP2040/raw/master/FW/build/gc_adapter_rp2040.uf2" download>
            <button type="button" id="fwButton">{download}</button>
          </a></div>
          <!--<esp-web-install-button id="install_esp32" manifest="/firmware/gc_pocket_beta/manifest.json"></esp-web-install-button>-->
        </div>

        <!-- INITIAL FW INSTALL MSG BOX RP2040 -->
        <div class="message-box" id="rp2040-initialize-board-box" disabled="true">
          <h2>Initialize Device</h2>
          To initialize your new GC Pocket+, hold down both buttons, then plug in the device via USB.
          Download the firmware using the button below, then drag the firmware to the RPI-RP2 device in your file explorer/Finder app. 

          <div class="full-width">
            <div class="line"></div>
          </div>

          <div class="row">
          <a id="downloadLink"
            href="https://github.com/HandHeldLegend/GC-Adapter-RP2040/raw/master/FW/build/gc_adapter_rp2040.uf2" download>
            <button type="button" id="fwButton">Download</button></div>
          </a>
        </div>

        <!-- INFO -->
        <!-- --------------- -->
        <div class="collapsible">

          <input id="info-drop" class="toggle" type="checkbox">

          <label for="info-drop" id="info-toggle" , class="lbl-toggle">Usage Info</label>
          <div class="dropdown">

            <p>Use either button to cycle the mode. The LED color indicates the current mode.</p>

            <div class="full-width">
              <div class="line"></div>
            </div>

            <div class="full-width">
            <div class="collapsible-row-double">
              <row>
                <h2>Switch Mode</h2>
                Yellow LED
              </row>
              <row>
                <h2>XInput Mode</h2>
                Green LED
              </row>
            </div></div>

            <div class="line"></div>

            <div class="full-width">
            <div class="collapsible-row-double">
              
              <row>
                <h2>GC USB Mode</h2>
                Purple LED
              </row>
              <row>
                <h2>Slippi Mode</h2>
                Pink LED
              </row>
            </div>
            </div>

            <div class="line"></div>

            <div class="full-width">
            <div class="row">
              <button type="button" onclick="window.open('https:/\/\/discord.gg/5z4cFv4rC2', '_blank')">Discord</button>
              <button type="button" onclick="window.open('https:/\/\/x.com/MitchHHL', '_blank')">Twitter</button>
            </div>
          </div>

          </div>
        </div>
        <!-- --------------- -->

    <!-- VIBRATION SETTING -->
    <!-- --------------- 
    <div class="collapsible">

        <input id="vibration_collapsible" class="toggle" type="checkbox">

        <label for="vibration_collapsible" id="vibration_collapsible_toggle"
        class="lbl-toggle">{vibrationTitle}</label>

        <div class="dropdown">
        <div class="full-width">
            <p>{vibrationDesc}</p>
            <div class="slider">
            <input type="range" min="0" max="100" value="0" id="vibeValue"
                oninput="vibeTextValue.innerText = this.value" onchange="vibrate_set_value(this.value)">
            <p id="vibeTextValue">0</p>
            </div>
            <div class="row">
            <button type="button" id="save_vibe_button" onclick="saveButton()">{save}</button>
            </div>
        </div>

        </div>
    </div>-->


    <!-- GAMECUBE SETTINGS -->
    <!-- --------------- 
    <div class="collapsible">

    <input id="gamecube_collapsible" class="toggle" type="checkbox">

    <label for="gamecube_collapsible" id="gamecube_collapsible_toggle" class="lbl-toggle">{gamecubeTitle}</label>

    <div class="dropdown">

        <div class="full-width">
        <p>{gamecubeDesc}</p>
        <div class="line"></div>
        <div class="sora_radio_container" id="radio_gc_sp_picker">
            <input type="radio" name="radio_gc_sp" id="gc_sp_0" checked onchange="gcsp_set_value(0)">
            <label for="gc_sp_0">Off</label>
            <input type="radio" name="radio_gc_sp" id="gc_sp_1" onchange="gcsp_set_value(1, 0)">
            <label for="gc_sp_1">Light L</label>
            <input type="radio" name="radio_gc_sp" id="gc_sp_2" onchange="gcsp_set_value(2, 0)">
            <label for="gc_sp_2">Light R</label>
            <input type="radio" name="radio_gc_sp" id="gc_sp_3" onchange="gcsp_set_value(3, 0)">
            <label for="gc_sp_3">Reset</label>
            <input type="radio" name="radio_gc_sp" id="gc_sp_4" onchange="gcsp_set_value(4, 0)">
            <label for="gc_sp_4">Dual Z</label>
        </div>
        <div class="line"></div>
        <p>{gamecubeTrigger}</p>
        <div class="slider">
            <input type="range" min="50" max="255" value="50" id="lightValue"
            oninput="lightTextValue.innerText = this.value.toString()" onchange="gcsp_set_value(0xFF, this.value)">
            <p id="lightTextValue">50</p>
        </div>
        <div class="row">
            <button type="button" id="save_remap_button" onclick="saveButton()">{save}</button>
        </div>
        </div>

    </div>
    </div>-->


    <!-- FIRMWARE UPDATES 
    <!-- ---------------
    <div class="collapsible">

        <input id="firmware_collapsible" class="toggle" type="checkbox">

        <label for="firmware_collapsible" id="firmware_collapsible_toggle"
        class="lbl-toggle">{firmwareTitle}</label>

        <div class="dropdown">
        <div class="full-width">
            
        </div>

        </div>
    </div> -->



    </div>
  </div>
  <!-- --------------- -->



  </div>
  </div>
  </div>
  <div class="footer">
    <a href="https://handheldlegend.github.io/attributions.html" target="_blank">JS/CSS Attributions</a> | Site by Mitch
    Cairns | Â©
    2023, Hand Held Legend | Updated 10.2.2023r1
  </div>
  <script src="js/gcp_version.js"></script>
  <script src="js/gcp_strings.js"></script>
  <script src="js/gcp_config.js"></script>

</body>

</html>