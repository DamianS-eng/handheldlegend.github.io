<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="manifest" href="./manifest.json">
    <link rel="icon" type="image/x-icon" href="./images/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Hoja2 Config</title>
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>
    <div class="app-container">
        <div class="app-header-container">
            <div class="app-header">
                <div class="center-buttons">

                    

                    <tristate-button id="connect-button" off-text="Connect" on-text="Disconnect"
                        off-to-on-text="Connecting..."
                        on-to-off-text="Disconnect"
                    ></tristate-button>

                    <span class="connect-hint">
                        Hold A then plug in USB!
                    </span>
            
                    <single-shot-button id="save-button" state="disabled" ready-text="Save" disabled-text="Save"
                        pending-text="Saving..."
                    ></single-shot-button>

                </div>

                <button visible="false" id="app-install-button" class="install-button">
                    Install
                </button>
            </div>

            <div visible="false" id="notif-msg-box" class="header-msg-box">

            </div>

            <div visible="false" id="fw-update-box" class="header-msg-box">
                <h2>Update Available</h2>
                <p>Click 'Enter Update Mode' first.</p>
                <div class="app-row">
                    <single-shot-button id="bootloader-button" state="ready" ready-text="Enter Update Mode" disabled-text="..."
                        pending-text="Entering..." failure-text="Entering..." success-text="Entering..."
                    ></single-shot-button>
                </div>

                <div class="separator"> </div>

                <h3>Manual Update (Windows)</h3>
                <p>Click 'Download' to retrieve the latest firmware. 
                    Save the .uf2 firmware for your device to the RPI-RP2 USB device in your file explorer.</p>
                <div class="app-row">
                    <single-shot-button id="download-button" state="ready" ready-text="Download" disabled-text="Download"
                        pending-text="Download" success-text="Opening..."
                    ></single-shot-button>
                </div>

                <div class="separator"> </div>

                <h3>Easy Update</h3>
                <p>Click 'Update' to connect to and update your gamepad.</p>
                <div class="progress-info">
                    <span class="status-text" id="statusText">Ready to start</span>
                    <span class="percentage" id="percentage">0%</span>
                </div>
                
                <div class="progress-bar-wrapper">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
                <div class="app-row">
                    <single-shot-button id="update-button" state="ready" ready-text="Update" disabled-text="..."
                        pending-text="Updating..." failure-text="Completed..." success-text="Completed..."
                    ></single-shot-button>
                    <single-shot-button id="exit-bootloader-button" state="ready" ready-text="Restart" disabled-text="..."
                        pending-text="Restarting..." failure-text="Completed..." success-text="Completed..."
                    ></single-shot-button>
                </div>

            </div>

        </div>
        <div class="swap-space">

            <div id="module-container">
                <div id="module-header">
                    <button id="back-button">‚Üê</button>
                    <h1 id="app-title">APP TITLE</h1>
                </div>
                <div id="module-content-container">
                    <div id="module-content"></div>
                </div>
            </div>

            <div id="app-grid-container">
                <div id="app-grid"></div>
            </div>

        </div>
    </div>

    <script>
        const moduleContent = document.getElementById('module-content-container');
        const moduleHeader = document.getElementById('module-header');

        moduleContent.addEventListener('scroll', () => {
            if (moduleContent.scrollTop > 0) {
                moduleHeader.setAttribute("shadow", "true");
            } else {
                moduleHeader.setAttribute("shadow", "false");
            }
        });
    </script>

    <script src="./js/app.js" type="module"></script>
</body>

</html>
